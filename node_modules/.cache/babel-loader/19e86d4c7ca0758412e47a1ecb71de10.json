{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/Users/sumit.gupta/Documents/training/testreact/flightappgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/sumit.gupta/Documents/training/testreact/flightappgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/sumit.gupta/Documents/training/testreact/flightappgit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./App.css\";import{Route,Link}from\"react-router-dom\";import{Button,Form,FormGroup,Label,Input,Table}from\"reactstrap\";export default function Flight(){var _useState=useState({booktype:\"oneway\",from:\"\",destination:\"\",departure:\"\",return:\"\",listEmployee:[],searchListEmployee:[]}),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];useEffect(function(){fetch(\"http://dummy.restapiexample.com/api/v1/employees\").then(function(res){return res.json();}).then(function(result){console.log(result);setFormState({listEmployee:result.data,searchListEmployee:result.data});});},[]);var handleChange=function handleChange(event){console.log(\"formState->\",formState);var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(function(prevState){var newState=_objectSpread({},prevState);newState[name]=value;if(name===\"from\"){var filtered=newState.listEmployee.filter(function(res){return res.employee_name.indexOf(value)>-1;});newState.searchListEmployee=_toConsumableArray(filtered);//searchListEmployee();\n}return newState;});};var searchListEmployee=function searchListEmployee(){setFormState(function(prevState){var nextState=_objectSpread({},prevState);var filtered=nextState.searchListEmployee.filter(function(res){return res.employee_name.indexOf(formState.from)>-1;});nextState.searchListEmployee=_toConsumableArray(filtered);return nextState;});};var onSubmit=function onSubmit(e){if(!formState.from){alert(\"please select From\");}e.preventDefault();};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Flight Booking\"}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsxs(Label,{for:\"type\",children:[/*#__PURE__*/_jsx(Input,{type:\"radio\",id:\"oneway\",onChange:handleChange,name:\"booktype\",value:\"oneway\"}),\"Oneway\"]}),/*#__PURE__*/_jsxs(Label,{for:\"type\",children:[/*#__PURE__*/_jsx(Input,{type:\"radio\",id:\"twoway\",onChange:handleChange,name:\"booktype\",value:\"twoway\"}),\"Roundway\"]})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formState.from,onChange:handleChange,name:\"from\",placeholder:\"FROM\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formState.destination,onChange:handleChange,name:\"destination\",placeholder:\"DESTINATION\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formState.departure,onChange:handleChange,name:\"departure\",placeholder:\"DEPARTURE\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formState.return,disabled:formState.booktype===\"twoway\"?true:false,onChange:handleChange,name:\"return\",placeholder:\"RETURN\"})]}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",name:\"submit\",onClick:onSubmit,value:\"Submit\"})})]}),/*#__PURE__*/_jsxs(Table,{responsive:true,striped:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Id\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Employee name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Employee salary\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Age\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:formState.searchListEmployee.map(function(res){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:res.id}),/*#__PURE__*/_jsx(\"td\",{children:res.employee_name}),/*#__PURE__*/_jsx(\"td\",{children:res.employee_salary}),/*#__PURE__*/_jsx(\"td\",{children:res.employee_age})]},res.id);})})]})]});}","map":{"version":3,"sources":["/Users/sumit.gupta/Documents/training/testreact/flightappgit/src/Flight.js"],"names":["React","useState","useEffect","Route","Link","Button","Form","FormGroup","Label","Input","Table","Flight","booktype","from","destination","departure","return","listEmployee","searchListEmployee","formState","setFormState","fetch","then","res","json","result","console","log","data","handleChange","event","target","name","value","prevState","newState","filtered","filter","employee_name","indexOf","nextState","onSubmit","e","alert","preventDefault","map","id","employee_salary","employee_age"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { Route, Link } from \"react-router-dom\";\nimport { Button, Form, FormGroup, Label, Input, Table } from \"reactstrap\";\n\nexport default function Flight() {\n  const [formState, setFormState] = useState({\n    booktype: \"oneway\",\n    from: \"\",\n    destination: \"\",\n    departure: \"\",\n    return: \"\",\n    listEmployee: [],\n    searchListEmployee: [],\n  });\n  useEffect(() => {\n    fetch(\"http://dummy.restapiexample.com/api/v1/employees\")\n      .then((res) => {\n        return res.json();\n      })\n      .then((result) => {\n        console.log(result);\n        setFormState({\n          listEmployee: result.data,\n          searchListEmployee: result.data,\n        });\n      });\n  }, []);\n  const handleChange = (event) => {\n    console.log(\"formState->\", formState);\n    const { name, value } = event.target;\n    setFormState((prevState) => {\n      const newState = { ...prevState };\n      newState[name] = value;\n      if (name === \"from\") {\n        const filtered = newState.listEmployee.filter((res) => {\n          return res.employee_name.indexOf(value) > -1;\n        });\n        newState.searchListEmployee = [...filtered];\n        //searchListEmployee();\n      }\n      return newState;\n    });\n  };\n  const searchListEmployee = () => {\n    setFormState((prevState) => {\n      const nextState = { ...prevState };\n      const filtered = nextState.searchListEmployee.filter((res) => {\n        return res.employee_name.indexOf(formState.from) > -1;\n      });\n      nextState.searchListEmployee = [...filtered];\n      return nextState;\n    });\n  };\n  const onSubmit = (e) => {\n    if (!formState.from) {\n      alert(\"please select From\");\n    }\n    e.preventDefault();\n  };\n  return (\n    <div className=\"App\">\n      <Form>\n        <h1>Flight Booking</h1>\n        <FormGroup>\n          <Label for=\"type\">\n            <Input\n              type=\"radio\"\n              id=\"oneway\"\n              onChange={handleChange}\n              name=\"booktype\"\n              value=\"oneway\"\n            />\n            Oneway\n          </Label>\n          <Label for=\"type\">\n            <Input\n              type=\"radio\"\n              id=\"twoway\"\n              onChange={handleChange}\n              name=\"booktype\"\n              value=\"twoway\"\n            />\n            Roundway\n          </Label>\n        </FormGroup>\n        <FormGroup>\n          <input\n            type=\"text\"\n            value={formState.from}\n            onChange={handleChange}\n            name=\"from\"\n            placeholder=\"FROM\"\n          />\n          <input\n            type=\"text\"\n            value={formState.destination}\n            onChange={handleChange}\n            name=\"destination\"\n            placeholder=\"DESTINATION\"\n          />\n          <input\n            type=\"date\"\n            value={formState.departure}\n            onChange={handleChange}\n            name=\"departure\"\n            placeholder=\"DEPARTURE\"\n          />\n          <input\n            type=\"date\"\n            value={formState.return}\n            disabled={formState.booktype === \"twoway\" ? true : false}\n            onChange={handleChange}\n            name=\"return\"\n            placeholder=\"RETURN\"\n          />\n        </FormGroup>\n        <FormGroup>\n          <input\n            type=\"submit\"\n            name=\"submit\"\n            onClick={onSubmit}\n            value=\"Submit\"\n          />\n        </FormGroup>\n      </Form>\n      <Table responsive striped>\n        <thead>\n          <tr>\n            <th>Id</th>\n            <th>Employee name</th>\n            <th>Employee salary</th>\n            <th>Age</th>\n          </tr>\n        </thead>\n        <tbody>\n          {formState.searchListEmployee.map((res) => {\n            return (\n              <tr key={res.id}>\n                <th scope=\"row\">{res.id}</th>\n                <td>{res.employee_name}</td>\n                <td>{res.employee_salary}</td>\n                <td>{res.employee_age}</td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}